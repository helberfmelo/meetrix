## Objetivo do PR
Implementar o item P1-1 do roadmap YCBM: round-robin e roteamento avancado de equipe.

## Etapa / Escopo
- Plano: YCBM gaps (P1)
- Item: P1-1 (round-robin de equipe)
- Itens implementados:
  - Atribuicao automatica de booking para membros do time (round-robin por ID).
  - Persistencia do ultimo membro utilizado em `team.config.round_robin_last_user_id`.
  - Fallback para o owner da pagina quando nao ha time ou quando round-robin desabilitado.

## Fora de escopo (neste PR)
- UI para configurar pesos ou regras avancadas.
- Regras por horarios/skills.

## Mudancas tecnicas
- Backend:
  - `assigned_user_id` em bookings.
  - Selecao round-robin com lock transacional.
- Banco:
  - Nova coluna `assigned_user_id` em `bookings`.

## Arquivos principais alterados
- `app/Http/Controllers/BookingController.php`
- `app/Models/Booking.php`
- `database/migrations/2026_02_22_013000_add_assigned_user_to_bookings_table.php`
- `docs/PR_YCBM_2026-02-22_P1-1.md`

## Evidencias de teste
- [x] Build frontend executado
- [x] Smoke manual: criar 3 bookings seguidos em pagina de time e validar alternancia do `assigned_user_id`

Comandos executados:
```bash
npm run build
php artisan migrate --force
# Scripts ad-hoc para validar round-robin
php setup_round_robin_test.php
php test_round_robin.php
```

Resultado:
- Build OK (vite build)
- Migração OK (tabelas e colunas criadas)
- Round-Robin OK (IDs alternados: 1 -> 42 -> 43)
- Fallback OK (Assigned User ID: 1 quando round-robin desabilitado)
Evidência adicional: `C:\Users\helbe\.gemini\antigravity\brain\346f13c0-f36f-45a7-8db7-e2aafa3be259\walkthrough.md.resolved`.

## Gate
- [x] Round-robin atribuindo membros distintos
- [x] Fallback para owner funcionando quando round-robin desabilitado

## Observacoes
- Round-robin ativado por padrao quando a pagina possui `team_id`.
- Para desativar, setar `config.round_robin_enabled=false` na scheduling page.
